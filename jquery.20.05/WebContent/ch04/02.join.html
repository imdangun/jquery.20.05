<meta charset='utf-8'>
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>
<script src='http://code.jquery.com/jquery-3.4.1.min.js'></script>
<script src='http://cdn.jsdelivr.net/jquery.validation/1.14.0/jquery.validate.min.js'></script>
<script>
$.validator.addMethod(
	'password',
	function(v, e) {
		return this.optional(e) ||  
			/^.*(?=^.{2,8}$)(?=.*\d)(?=.*[a-zA-Z])(?=.*[!@#$%^&+=]).*$/i.test(v);
	},
	'2자 이상 8자 이하의 영문자, 숫자, 특수문자를 입력하세요.'
);
// https://jqueryvalidation.org/jQuery.validator.addMethod/
$(() => {	
	$('form').validate({
		rules: {
			userId: {
				required: true,
				minlength: 2
			},
			userPw: {
				required: true
			},
			userPw2: {
				required: true,
				equalTo: '#iuserPw'
			},
			email: {
				required: true,
				email: true
			},
			agree: 'required'
		},
		messages: {
			userId: {
				required: '아이디를 입력하세요.',
				minlength: '2자 이상 입력하세요.'
			},
			userPw: {
				required: '암호를 입력하세요.'
			},
			userPw2: {
				required: '암호를 입력하세요.',
				equalTo: '위 암호와 똑같이 입력하세요.'
			},
			email: {
				required: '이메일 주소를 입력하세요.',
				email: '이메일 형식을 맞춰 주세요.'
			},
			agree: '약관에 동의하셔야 가입할 수 있습니다.'
		},
		submitHandler: () => $('form').submit()
	})
});
</script>

<style>
input.error {
	border: 1px dashed red;
}

label.error {
	margin-left: 10px;
	color: red;
}
</style>

<div class='container'>
	<form class='form-horizontal'>
		<fieldset>
			<legend>회원가입</legend>
			<div class='form-group'>
				<label class='control-label col-xs-2'>아이디</label>
				<div class='col-xs-10'>
					<input name='userId' type='text' >
				</div>
			</div>
			<div class='form-group'>
				<label class='control-label col-xs-2'>암호</label>
				<div class='col-xs-10'>
					<input name='userPw' type='password' id='iuserPw'>
				</div>
			</div>
			<div class='form-group'>
				<label class='control-label col-xs-2'>암호확인</label>
				<div class='col-xs-10'>
					<input name='userPw2' type='password'>
				</div>
			</div>
			<div class='form-group'>
				<label class='control-label col-xs-2'>이메일</label>
				<div class='col-xs-10'>
					<input name='email' type='email'>
				</div>
			</div>
			<div class='form-group'>
				<div class='col-xs-offset-2 col-xs-10'>
					<label> 약관동의 <input name='agree' type='checkbox'></label>
				</div>
			</div>
			
			<button type='submit' class='btn btn-default'>제출</button>
		</fieldset>
	</form>
</div>